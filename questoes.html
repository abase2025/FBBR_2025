<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questões - FBBR_Odonto</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="description" content="Pratique com questões de provas e concursos em odontologia para testar seus conhecimentos.">
    <meta name="author" content="Harrison Costa">
    <style>
        .questions-container {
            margin-top: 2rem;
        }
        
        .question-filter {
            background-color: #f9f7f0;
            border: 1px solid var(--vintage-border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .question-filter-title {
            font-family: 'Baskerville', serif;
            color: var(--primary-color);
            margin-top: 0;
            margin-bottom: 1rem;
            text-align: center;
            font-size: 1.5rem;
        }
        
        .question-filter-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .filter-group {
            margin-bottom: 1rem;
        }
        
        .filter-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .filter-input, .filter-select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #e0d9c5;
            border-radius: 4px;
            font-family: 'Baskerville', serif;
            font-size: 1rem;
        }
        
        .filter-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            grid-column: 1 / -1;
        }
        
        .filter-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Baskerville', serif;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .filter-btn.primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .filter-btn.secondary {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .filter-btn.tertiary {
            background-color: #f0f0f0;
            color: #333;
        }
        
        .question-card {
            background-color: #fff;
            border: 1px solid var(--vintage-border);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 15px var(--shadow-color);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }
        
        .question-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .question-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .question-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: white;
        }
        
        .question-meta {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .question-content {
            padding: 1.5rem;
        }
        
        .question-text {
            font-family: 'Baskerville', serif;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }
        
        .question-options {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        
        .question-option {
            padding: 1rem;
            border: 1px solid #e0d9c5;
            border-radius: 4px;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
        }
        
        .question-option:hover {
            background-color: #f9f7f0;
        }
        
        .question-option.selected {
            background-color: #e8f4f9;
            border-color: var(--primary-color);
        }
        
        .question-option.correct {
            background-color: #e8f9e8;
            border-color: #4caf50;
        }
        
        .question-option.incorrect {
            background-color: #f9e8e8;
            border-color: #f44336;
        }
        
        .option-letter {
            width: 30px;
            height: 30px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-weight: 600;
        }
        
        .question-footer {
            background-color: #f9f9f9;
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #eee;
        }
        
        .question-source {
            font-size: 0.9rem;
            color: #666;
        }
        
        .question-actions {
            display: flex;
            gap: 1rem;
        }
        
        .question-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .question-btn.check {
            background-color: var(--primary-color);
            color: white;
        }
        
        .question-btn.next {
            background-color: var(--secondary-color);
            color: white;
        }
        
        .question-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .question-explanation {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #f9f7f0;
            border-radius: 4px;
            border-left: 4px solid var(--primary-color);
            display: none;
        }
        
        .question-explanation h4 {
            margin-top: 0;
            color: var(--primary-color);
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
        }
        
        .loading i {
            margin-right: 0.5rem;
            color: var(--primary-color);
        }
        
        .no-questions {
            text-align: center;
            padding: 2rem;
            background-color: #f9f7f0;
            border: 1px solid #e0d9c5;
            border-radius: 8px;
            margin: 2rem 0;
        }
        
        .no-questions h3 {
            color: var(--primary-color);
            margin-top: 0;
        }
        
        /* Responsividade */
        @media (max-width: 768px) {
            .question-filter-form {
                grid-template-columns: 1fr;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .question-meta {
                margin-top: 0.5rem;
            }
            
            .question-footer {
                flex-direction: column;
                gap: 1rem;
            }
            
            .question-actions {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <!-- Cabeçalho -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <img src="assets/images/logo.png" alt="FBBR_Odonto Logo">
                <span class="logo-text">FBBR_Odonto</span>
            </div>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <nav>
                <ul id="menu">
                    <li><a href="index.html">Início</a></li>
                    <li><a href="especialidades.html">Especialidades</a></li>
                    <li><a href="resumos.html">Resumos</a></li>
                    <li><a href="questoes.html" class="active">Questões</a></li>
                    <li><a href="contato.html">Contato</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1>Questões de Odontologia</h1>
            <p>Pratique com questões de provas e concursos para testar seus conhecimentos e se preparar para avaliações.</p>
        </div>
    </section>

    <!-- Conteúdo Principal -->
    <section class="section">
        <div class="container">
            <div class="section-title">
                <h2>Banco de Questões</h2>
            </div>
            
            <!-- Filtro de Questões -->
            <div class="question-filter">
                <h3 class="question-filter-title">Filtrar Questões</h3>
                <form id="question-filter-form" class="question-filter-form">
                    <div class="filter-group">
                        <label for="filter-specialty" class="filter-label">Especialidade</label>
                        <select id="filter-specialty" class="filter-select">
                            <option value="">Todas as Especialidades</option>
                            <option value="endodontia">Endodontia</option>
                            <option value="ortodontia">Ortodontia</option>
                            <option value="periodontia">Periodontia</option>
                            <option value="protese">Prótese Dentária</option>
                            <option value="anestesiologia">Anestesiologia</option>
                            <option value="cariologia">Cariologia</option>
                            <option value="dentistica">Dentística</option>
                            <option value="farmacologia">Farmacologia</option>
                            <option value="odontolegal">Odontologia Legal</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-difficulty" class="filter-label">Nível de Dificuldade</label>
                        <select id="filter-difficulty" class="filter-select">
                            <option value="">Todos os Níveis</option>
                            <option value="facil">Fácil</option>
                            <option value="medio">Médio</option>
                            <option value="dificil">Difícil</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="filter-keyword" class="filter-label">Palavra-chave</label>
                        <input type="text" id="filter-keyword" class="filter-input" placeholder="Ex: Canal, Oclusão...">
                    </div>
                    
                    <div class="filter-actions">
                        <button type="submit" class="filter-btn primary">
                            <i class="fas fa-search"></i> Buscar Questões
                        </button>
                        <button type="button" id="clear-filter" class="filter-btn tertiary">
                            <i class="fas fa-times"></i> Limpar
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Carregando -->
            <div id="loading" class="loading">
                <i class="fas fa-spinner fa-spin"></i> Carregando questões...
            </div>
            
            <!-- Sem Questões -->
            <div id="no-questions" class="no-questions" style="display: none;">
                <h3>Nenhuma questão encontrada</h3>
                <p>Tente ajustar seus critérios de busca para encontrar questões.</p>
            </div>
            
            <!-- Lista de Questões -->
            <div id="questions-container" class="questions-container"></div>
        </div>
    </section>

    <!-- DON_FBBR IA Chat -->
    <div class="ai-chat" id="ai-chat-button">
        <i class="fas fa-robot"></i>
    </div>
    <div class="ai-chat-window" id="ai-chat-window">
        <div class="ai-chat-header">
            <h3>DON_FBBR</h3>
            <button id="ai-chat-close"><i class="fas fa-times"></i></button>
        </div>
        <div class="ai-chat-body" id="ai-chat-body">
            <div style="background-color: #f0f0f0; padding: 10px; border-radius: 10px; margin-bottom: 10px;">
                <p><strong>DON_FBBR:</strong> Olá! Sou o DON_FBBR, sua assistente de estudos em Odontologia. Como posso ajudar você hoje?</p>
            </div>
        </div>
        <div class="ai-chat-input">
            <input type="text" placeholder="Digite sua pergunta..." id="ai-chat-input-field">
            <button id="ai-chat-send"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>FBBR_Odonto</h3>
                    <p>Estude Odontologia de forma gratuita e completa. Acesse resumos, questões de provas, cursos e materiais de estudo para todas as especialidades odontológicas.</p>
                </div>
                <div class="footer-section">
                    <h3>Links Rápidos</h3>
                    <ul>
                        <li><a href="index.html">Início</a></li>
                        <li><a href="especialidades.html">Especialidades</a></li>
                        <li><a href="resumos.html">Resumos</a></li>
                        <li><a href="questoes.html">Questões</a></li>
                        <li><a href="contato.html">Contato</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Especialidades</h3>
                    <ul>
                        <li><a href="especialidades.html#endodontia">Endodontia</a></li>
                        <li><a href="especialidades.html#ortodontia">Ortodontia</a></li>
                        <li><a href="especialidades.html#periodontia">Periodontia</a></li>
                        <li><a href="especialidades.html#protese">Prótese Dentária</a></li>
                        <li><a href="especialidades.html">Ver todas</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 FBBR_Odonto. Criado por Harrison Costa. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Menu Mobile Toggle
        const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
        const menu = document.getElementById('menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            menu.classList.toggle('show');
        });

        // AI Chat Toggle
        const aiChatButton = document.getElementById('ai-chat-button');
        const aiChatWindow = document.getElementById('ai-chat-window');
        const aiChatClose = document.getElementById('ai-chat-close');
        const aiChatSend = document.getElementById('ai-chat-send');
        const aiChatInputField = document.getElementById('ai-chat-input-field');
        const aiChatBody = document.getElementById('ai-chat-body');
        
        aiChatButton.addEventListener('click', () => {
            aiChatWindow.style.display = 'flex';
        });
        
        aiChatClose.addEventListener('click', () => {
            aiChatWindow.style.display = 'none';
        });
        
        aiChatSend.addEventListener('click', sendMessage);
        aiChatInputField.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = aiChatInputField.value.trim();
            if (message) {
                // Adicionar mensagem do usuário
                const userMessageDiv = document.createElement('div');
                userMessageDiv.style.textAlign = 'right';
                userMessageDiv.style.marginBottom = '10px';
                userMessageDiv.innerHTML = `<p><strong>Você:</strong> ${message}</p>`;
                aiChatBody.appendChild(userMessageDiv);
                
                // Limpar campo de entrada
                aiChatInputField.value = '';
                
                // Simular resposta do DON_FBBR (em uma aplicação real, isso seria processado pelo backend)
                setTimeout(() => {
                    const botMessageDiv = document.createElement('div');
                    botMessageDiv.style.backgroundColor = '#f0f0f0';
                    botMessageDiv.style.padding = '10px';
                    botMessageDiv.style.borderRadius = '10px';
                    botMessageDiv.style.marginBottom = '10px';
                    
                    // Resposta simulada baseada em palavras-chave
                    let response = "Desculpe, não entendi sua pergunta. Pode reformular?";
                    
                    if (message.toLowerCase().includes('questão') || message.toLowerCase().includes('questoes')) {
                        response = "Temos um banco de questões de diversas especialidades odontológicas. Use o filtro para encontrar questões específicas por especialidade, nível de dificuldade ou palavra-chave.";
                    } else if (message.toLowerCase().includes('endodontia')) {
                        response = "A Endodontia é a especialidade que estuda a polpa dentária e os tecidos periapicais. Temos questões sobre anatomia interna dos dentes, técnicas de instrumentação e obturação. Use o filtro para encontrar questões específicas.";
                    } else if (message.toLowerCase().includes('ortodontia')) {
                        response = "A Ortodontia trata da correção das estruturas dento-faciais. Temos questões sobre classificação das más oclusões, desenvolvimento da dentição e técnicas de tratamento. Use o filtro para encontrar questões específicas.";
                    } else if (message.toLowerCase().includes('periodontia')) {
                        response = "A Periodontia estuda os tecidos de suporte dos dentes. Temos questões sobre doenças periodontais, técnicas cirúrgicas e regeneração tecidual. Use o filtro para encontrar questões específicas.";
                    } else if (message.toLowerCase().includes('prótese')) {
                        response = "A Prótese Dentária visa a reconstrução de dentes danificados ou ausentes. Temos questões sobre próteses fixas, removíveis e sobre implantes. Use o filtro para encontrar questões específicas.";
                    } else if (message.toLowerCase().includes('anestesia') || message.toLowerCase().includes('anestesiologia')) {
                        response = "A Anestesiologia em Odontologia estuda os mecanismos de controle da dor. Temos questões sobre técnicas anestésicas, farmacologia dos anestésicos e complicações. Use o filtro para encontrar questões específicas.";
                    } else if (message.toLowerCase().includes('concurso') || message.toLowerCase().includes('prova')) {
                        response = "Nosso banco de questões contém questões de diversos concursos e provas de residência em Odontologia. Use o filtro para encontrar questões específicas por especialidade ou nível de dificuldade.";
                    }
                    
                    botMessageDiv.innerHTML = `<p><strong>DON_FBBR:</strong> ${response}</p>`;
                    aiChatBody.appendChild(botMessageDiv);
                    
                    // Rolar para o final da conversa
                    aiChatBody.scrollTop = aiChatBody.scrollHeight;
                }, 1000);
                
                // Rolar para o final da conversa após adicionar a mensagem do usuário
                aiChatBody.scrollTop = aiChatBody.scrollHeight;
            }
        }

        // Banco de Questões
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar o filtro
            initQuestionFilter();
            
            // Carregar questões iniciais
            loadQuestions();
        });

        // Função para inicializar o filtro
        function initQuestionFilter() {
            const filterForm = document.getElementById('question-filter-form');
            if (!filterForm) return;
            
            filterForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const specialty = document.getElementById('filter-specialty').value;
                const difficulty = document.getElementById('filter-difficulty').value;
                const keyword = document.getElementById('filter-keyword').value;
                
                // Mostrar carregando
                document.getElementById('loading').style.display = 'block';
                document.getElementById('questions-container').innerHTML = '';
                document.getElementById('no-questions').style.display = 'none';
                
                // Carregar questões filtradas
                loadQuestions(specialty, difficulty, keyword);
            });
            
            // Adicionar evento para limpar filtros
            const clearButton = document.getElementById('clear-filter');
            if (clearButton) {
                clearButton.addEventListener('click', function() {
                    document.getElementById('filter-specialty').value = '';
                    document.getElementById('filter-difficulty').value = '';
                    document.getElementById('filter-keyword').value = '';
                    
                    // Mostrar carregando
                    document.getElementById('loading').style.display = 'block';
                    document.getElementById('questions-container').innerHTML = '';
                    document.getElementById('no-questions').style.display = 'none';
                    
                    // Carregar todas as questões
                    loadQuestions();
                });
            }
        }

        // Função para carregar questões
        function loadQuestions(specialty = '', difficulty = '', keyword = '') {
            // Simular carregamento
            setTimeout(() => {
                // Esconder carregando
                document.getElementById('loading').style.display = 'none';
                
                // Banco de questões simulado
                const questions = [
                    {
                        id: 1,
                        specialty: 'endodontia',
                        difficulty: 'medio',
                        title: 'Anatomia Interna dos Dentes',
                        text: 'Qual das alternativas abaixo descreve corretamente a anatomia interna de um molar superior?',
                        options: [
                            'Possui 3 canais: palatino, mésio-vestibular e disto-vestibular',
                            'Possui 2 canais: vestibular e palatino',
                            'Possui 4 canais: dois mésio-vestibulares, um disto-vestibular e um palatino',
                            'Possui 1 canal em forma de C',
                            'Possui 3 raízes e sempre 3 canais'
                        ],
                        correct: 2,
                        explanation: 'O primeiro molar superior geralmente apresenta 4 canais: dois mésio-vestibulares (MV1 e MV2), um disto-vestibular e um palatino. O canal MV2 está presente em aproximadamente 60-90% dos casos, dependendo do método de detecção utilizado.',
                        source: 'Concurso USP 2023'
                    },
                    {
                        id: 2,
                        specialty: 'ortodontia',
                        difficulty: 'facil',
                        title: 'Classificação de Angle',
                        text: 'De acordo com a classificação de Angle, qual alternativa caracteriza corretamente a má oclusão de Classe II divisão 1?',
                        options: [
                            'Relação molar normal com incisivos em mordida cruzada',
                            'Molar inferior posicionado mesialmente em relação ao molar superior',
                            'Molar inferior posicionado distalmente em relação ao molar superior, com incisivos superiores protruídos',
                            'Molar inferior posicionado distalmente em relação ao molar superior, com incisivos superiores retroinclinados',
                            'Relação molar normal com mordida aberta anterior'
                        ],
                        correct: 2,
                        explanation: 'Na má oclusão de Classe II divisão 1 de Angle, o primeiro molar inferior está posicionado distalmente em relação ao primeiro molar superior, e os incisivos superiores apresentam-se protruídos (vestibularizados).',
                        source: 'Prova de Residência UFRJ 2024'
                    },
                    {
                        id: 3,
                        specialty: 'periodontia',
                        difficulty: 'dificil',
                        title: 'Nova Classificação das Doenças Periodontais',
                        text: 'De acordo com a nova classificação das doenças periodontais (2018), qual das alternativas abaixo NÃO representa um estágio da periodontite?',
                        options: [
                            'Estágio I (inicial)',
                            'Estágio II (moderada)',
                            'Estágio III (severa)',
                            'Estágio IV (avançada)',
                            'Estágio V (terminal)'
                        ],
                        correct: 4,
                        explanation: 'A nova classificação das doenças periodontais (2018) define a periodontite em quatro estágios (I a IV), baseados na severidade, complexidade e extensão/distribuição. Não existe o Estágio V (terminal) nesta classificação.',
                        source: 'Concurso CFO 2023'
                    },
                    {
                        id: 4,
                        specialty: 'anestesiologia',
                        difficulty: 'medio',
                        title: 'Técnicas Anestésicas',
                        text: 'Qual nervo é bloqueado na técnica anestésica de Gow-Gates?',
                        options: [
                            'Nervo alveolar inferior apenas',
                            'Nervo lingual apenas',
                            'Nervo bucal apenas',
                            'Nervos alveolar inferior, lingual e bucal',
                            'Nervo mentoniano'
                        ],
                        correct: 3,
                        explanation: 'A técnica de Gow-Gates é uma técnica de bloqueio mandibular que anestesia os nervos alveolar inferior, lingual e bucal em uma única injeção. O ponto de injeção é mais alto e posterior que na técnica tradicional de bloqueio do nervo alveolar inferior.',
                        source: 'Prova de Título de Especialista SBED 2022'
                    },
                    {
                        id: 5,
                        specialty: 'protese',
                        difficulty: 'medio',
                        title: 'Prótese Parcial Removível',
                        text: 'Qual componente da prótese parcial removível tem como função principal a retenção?',
                        options: [
                            'Conector maior',
                            'Apoio oclusal',
                            'Grampo circunferencial',
                            'Placa proximal',
                            'Sela'
                        ],
                        correct: 2,
                        explanation: 'O grampo circunferencial é o componente da prótese parcial removível responsável principalmente pela retenção, pois sua ponta ativa se posiciona na área retentiva do dente suporte, impedindo o deslocamento da prótese no sentido cervico-oclusal.',
                        source: 'Concurso EBSERH 2023'
                    },
                    {
                        id: 6,
                        specialty: 'cariologia',
                        difficulty: 'facil',
                        title: 'Evolução da Cárie',
                        text: 'Qual das seguintes características NÃO está associada à lesão de cárie ativa em esmalte?',
                        options: [
                            'Superfície opaca',
                            'Coloração esbranquiçada',
                            'Textura rugosa',
                            'Superfície brilhante',
                            'Localização em áreas de acúmulo de biofilme'
                        ],
                        correct: 3,
                        explanation: 'A superfície brilhante é uma característica de lesão de cárie inativa em esmalte, não de lesão ativa. As lesões ativas em esmalte tipicamente apresentam superfície opaca, coloração esbranquiçada, textura rugosa e estão localizadas em áreas de acúmulo de biofilme.',
                        source: 'Prova ABO 2023'
                    },
                    {
                        id: 7,
                        specialty: 'farmacologia',
                        difficulty: 'dificil',
                        title: 'Antibioticoterapia',
                        text: 'Qual dos seguintes antibióticos é considerado de primeira escolha para o tratamento de infecções odontogênicas em pacientes alérgicos à penicilina?',
                        options: [
                            'Amoxicilina',
                            'Cefalexina',
                            'Clindamicina',
                            'Azitromicina',
                            'Ciprofloxacino'
                        ],
                        correct: 2,
                        explanation: 'A clindamicina é considerada o antibiótico de primeira escolha para o tratamento de infecções odontogênicas em pacientes alérgicos à penicilina, devido ao seu espectro de ação contra anaeróbios e sua boa penetração óssea. A cefalexina não é recomendada para pacientes com alergia à penicilina devido à possibilidade de reação cruzada.',
                        source: 'Prova de Residência USP 2024'
                    },
                    {
                        id: 8,
                        specialty: 'dentistica',
                        difficulty: 'medio',
                        title: 'Sistemas Adesivos',
                        text: 'Qual a principal diferença entre os sistemas adesivos convencionais e os autocondicionantes?',
                        options: [
                            'Os adesivos convencionais não necessitam de condicionamento ácido',
                            'Os adesivos autocondicionantes requerem condicionamento ácido separado',
                            'Os adesivos convencionais utilizam o condicionamento ácido em etapa separada',
                            'Os adesivos autocondicionantes são incompatíveis com resinas compostas',
                            'Os adesivos convencionais são indicados apenas para esmalte'
                        ],
                        correct: 2,
                        explanation: 'A principal diferença entre os sistemas adesivos convencionais e autocondicionantes está na estratégia de condicionamento do substrato dental. Os sistemas convencionais utilizam o condicionamento ácido em etapa separada (técnica do condicionamento total), enquanto os sistemas autocondicionantes incorporam monômeros ácidos que simultaneamente condicionam e infiltram os tecidos dentais.',
                        source: 'Concurso SES-DF 2023'
                    },
                    {
                        id: 9,
                        specialty: 'odontolegal',
                        difficulty: 'dificil',
                        title: 'Identificação Humana',
                        text: 'Qual método de identificação humana em Odontologia Legal é considerado primário segundo o protocolo INTERPOL?',
                        options: [
                            'Estimativa de idade pelos dentes',
                            'Análise de mordida',
                            'Comparação de radiografias ante e post-mortem',
                            'Queiloscopia',
                            'Rugoscopia palatina'
                        ],
                        correct: 2,
                        explanation: 'Segundo o protocolo INTERPOL, os métodos primários de identificação humana são: análise de impressões digitais, análise de DNA e análise odontológica comparativa (comparação de registros ante e post-mortem, incluindo radiografias). Os demais métodos citados são considerados secundários ou complementares.',
                        source: 'Concurso Polícia Federal 2022'
                    }
                ];
                
                // Filtrar questões
                let filteredQuestions = questions;
                
                if (specialty) {
                    filteredQuestions = filteredQuestions.filter(q => q.specialty === specialty);
                }
                
                if (difficulty) {
                    filteredQuestions = filteredQuestions.filter(q => q.difficulty === difficulty);
                }
                
                if (keyword) {
                    const keywordLower = keyword.toLowerCase();
                    filteredQuestions = filteredQuestions.filter(q => 
                        q.title.toLowerCase().includes(keywordLower) || 
                        q.text.toLowerCase().includes(keywordLower) ||
                        q.options.some(opt => opt.toLowerCase().includes(keywordLower))
                    );
                }
                
                // Se não houver questões filtradas, mostrar mensagem
                if (filteredQuestions.length === 0) {
                    // Garantir que sempre haja pelo menos uma questão
                    // Mostrar questões aleatórias do banco original
                    const randomQuestions = [];
                    const numRandomQuestions = Math.min(3, questions.length);
                    
                    // Selecionar questões aleatórias
                    const shuffledQuestions = [...questions].sort(() => 0.5 - Math.random());
                    for (let i = 0; i < numRandomQuestions; i++) {
                        randomQuestions.push(shuffledQuestions[i]);
                    }
                    
                    // Exibir mensagem e questões aleatórias
                    document.getElementById('no-questions').style.display = 'block';
                    renderQuestions(randomQuestions);
                } else {
                    // Exibir questões filtradas
                    document.getElementById('no-questions').style.display = 'none';
                    renderQuestions(filteredQuestions);
                }
            }, 1500);
        }

        // Função para renderizar questões
        function renderQuestions(questions) {
            const container = document.getElementById('questions-container');
            container.innerHTML = '';
            
            questions.forEach(question => {
                const questionCard = document.createElement('div');
                questionCard.className = 'question-card';
                questionCard.dataset.id = question.id;
                
                // Cabeçalho da questão
                const header = document.createElement('div');
                header.className = 'question-header';
                
                const title = document.createElement('h3');
                title.textContent = question.title;
                
                const meta = document.createElement('div');
                meta.className = 'question-meta';
                meta.textContent = `Dificuldade: ${getDifficultyText(question.difficulty)} | Especialidade: ${getSpecialtyText(question.specialty)}`;
                
                header.appendChild(title);
                header.appendChild(meta);
                
                // Conteúdo da questão
                const content = document.createElement('div');
                content.className = 'question-content';
                
                const text = document.createElement('div');
                text.className = 'question-text';
                text.textContent = question.text;
                
                const options = document.createElement('ul');
                options.className = 'question-options';
                
                const letters = ['A', 'B', 'C', 'D', 'E'];
                question.options.forEach((option, index) => {
                    const li = document.createElement('li');
                    li.className = 'question-option';
                    li.dataset.index = index;
                    
                    const letter = document.createElement('span');
                    letter.className = 'option-letter';
                    letter.textContent = letters[index];
                    
                    const optionText = document.createElement('span');
                    optionText.textContent = option;
                    
                    li.appendChild(letter);
                    li.appendChild(optionText);
                    
                    // Adicionar evento de clique
                    li.addEventListener('click', function() {
                        // Remover seleção anterior
                        const selectedOptions = options.querySelectorAll('.selected');
                        selectedOptions.forEach(opt => opt.classList.remove('selected'));
                        
                        // Adicionar nova seleção
                        li.classList.add('selected');
                    });
                    
                    options.appendChild(li);
                });
                
                content.appendChild(text);
                content.appendChild(options);
                
                // Explicação (inicialmente oculta)
                const explanation = document.createElement('div');
                explanation.className = 'question-explanation';
                explanation.style.display = 'none';
                
                const explanationTitle = document.createElement('h4');
                explanationTitle.textContent = 'Explicação';
                
                const explanationText = document.createElement('p');
                explanationText.textContent = question.explanation;
                
                explanation.appendChild(explanationTitle);
                explanation.appendChild(explanationText);
                
                content.appendChild(explanation);
                
                // Rodapé da questão
                const footer = document.createElement('div');
                footer.className = 'question-footer';
                
                const source = document.createElement('div');
                source.className = 'question-source';
                source.textContent = `Fonte: ${question.source}`;
                
                const actions = document.createElement('div');
                actions.className = 'question-actions';
                
                const checkButton = document.createElement('button');
                checkButton.className = 'question-btn check';
                checkButton.textContent = 'Verificar';
                checkButton.addEventListener('click', function() {
                    const selectedOption = options.querySelector('.selected');
                    if (!selectedOption) {
                        alert('Selecione uma alternativa antes de verificar.');
                        return;
                    }
                    
                    // Remover classes anteriores
                    options.querySelectorAll('.correct, .incorrect').forEach(opt => {
                        opt.classList.remove('correct', 'incorrect');
                    });
                    
                    // Verificar resposta
                    const selectedIndex = parseInt(selectedOption.dataset.index);
                    if (selectedIndex === question.correct) {
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        options.children[question.correct].classList.add('correct');
                    }
                    
                    // Mostrar explicação
                    explanation.style.display = 'block';
                });
                
                const nextButton = document.createElement('button');
                nextButton.className = 'question-btn next';
                nextButton.textContent = 'Próxima';
                nextButton.addEventListener('click', function() {
                    // Encontrar próxima questão
                    const currentId = parseInt(questionCard.dataset.id);
                    const nextCard = document.querySelector(`.question-card[data-id="${currentId + 1}"]`);
                    
                    if (nextCard) {
                        // Rolar para a próxima questão
                        nextCard.scrollIntoView({ behavior: 'smooth' });
                    } else {
                        // Se não houver próxima questão, rolar para o topo
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }
                });
                
                actions.appendChild(checkButton);
                actions.appendChild(nextButton);
                
                footer.appendChild(source);
                footer.appendChild(actions);
                
                // Montar card completo
                questionCard.appendChild(header);
                questionCard.appendChild(content);
                questionCard.appendChild(footer);
                
                container.appendChild(questionCard);
            });
        }

        // Função para obter texto de dificuldade
        function getDifficultyText(difficulty) {
            switch (difficulty) {
                case 'facil': return 'Fácil';
                case 'medio': return 'Médio';
                case 'dificil': return 'Difícil';
                default: return 'Desconhecido';
            }
        }

        // Função para obter texto de especialidade
        function getSpecialtyText(specialty) {
            switch (specialty) {
                case 'endodontia': return 'Endodontia';
                case 'ortodontia': return 'Ortodontia';
                case 'periodontia': return 'Periodontia';
                case 'protese': return 'Prótese Dentária';
                case 'anestesiologia': return 'Anestesiologia';
                case 'cariologia': return 'Cariologia';
                case 'dentistica': return 'Dentística';
                case 'farmacologia': return 'Farmacologia';
                case 'odontolegal': return 'Odontologia Legal';
                default: return 'Geral';
            }
        }
    </script>
</body>
</html>
